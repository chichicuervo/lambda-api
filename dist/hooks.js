!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.hooks=r():(e["@jbelich"]=e["@jbelich"]||{},e["@jbelich"]["lambda-api"]=e["@jbelich"]["lambda-api"]||{},e["@jbelich"]["lambda-api"].hooks=r())}(global,(function(){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=20)}({0:function(e,r){e.exports=require("core-js/modules/es.promise")},18:function(e,r){e.exports=require("core-js/modules/es.string.match")},2:function(e,r){e.exports=require("react")},20:function(e,r,t){"use strict";t.r(r);t(3),t(0),t(18),t(4);var n=t(2);function o(e,r,t,n,o,u,i){try{var a=e[u](i),c=a.value}catch(e){return void t(e)}a.done?r(c):Promise.resolve(c).then(n,o)}function u(e){return function(){var r=this,t=arguments;return new Promise((function(n,u){function i(e){o(c,n,u,i,a,"next",e)}function a(e){o(c,n,u,i,a,"throw",e)}var c=e.apply(r,t);i(void 0)}))}}function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function a(e){for(var r,t=1;t<arguments.length;t++)r=null==arguments[t]?{}:arguments[t],t%2?i(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}));return e}function c(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function s(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)t=u[n],0<=r.indexOf(t)||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)t=u[n],!(0<=r.indexOf(t))&&Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},{unserialize:t=JSON.parse,field:n="data"}=r;s(r,["unserialize","field"]);return"string"==typeof e&&e.match(/^\s*(\[|\{|null)/)&&(e=t(e)),e&&e[n]&&"string"==typeof e[n]&&(e=t(e[n])),e&&e[n]&&(e=e[n]),e},f=e=>{for(var r of[e.error,e.Error,e])for(var t of["error","Error"]){var n=((e,r)=>{if(e&&e[r]){var{error:t,Error:n}=e[r];if(t)return t;if(n)return n}})(r,t);if(n)return n}return e&&e.errorMessage?e.data:e},d=(e,r)=>{switch(r.type){case"LOADING":return a({},e,{loading:!0,complete:!1});case"SUCCESS":var t=r.payload,{data:n,error:o}=t,u=s(t,["data","error"]);return a({},e,{data:l(r.payload),response:u,error:null,loading:!1,complete:!0});case"ERROR":var i=r.payload,{data:c,error:d}=i,p=s(i,["data","error"]);return a({},e,{data:l(r.payload),response:p,error:!0,errorDetails:f(r.payload),loading:!1,complete:!0});default:return e}},p=function(){var e=u((function*(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},{body:t,serializer:n=JSON.stringify,expect:o="json"}=r,u=s(r,["body","serializer","expect"]);u=a({},u,{body:t&&"string"==typeof t?t:n(t)});var i=yield fetch(e,u),{headers:c,ok:l,status:f,statusText:d}=i,p=s(i,["headers","ok","status","statusText"]);if(!(i[o]&&i[o]instanceof Function))throw new Error("Invalid response expect function");var y=![204,205].includes(f)&&(yield i[o]()),b=yield p.trailers;return{data:y,headers:c,ok:l,status:f,statusText:d,url:e,trailers:b}}));return function(){return e.apply(this,arguments)}}(),y=function(){var e=u((function*(e,r){var{onLoading:t,onSuccess:n,onFail:o,onError:u}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};try{t({url:e,options:r});var i=yield p(e,r),{ok:c}=i,l=s(i,["ok"]);return c?n(a({ok:c},l)):o(a({ok:c},l)),a({ok:c},l)}catch(e){u({ok:ok,error:e})}}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=u((function*(e,r,t){return y(e,t,{onLoading:()=>r({type:"LOADING"}),onSuccess:e=>r({type:"SUCCESS",payload:e}),onFail:e=>r({type:"ERROR",payload:e}),onError:e=>r({type:"ERROR",payload:e})})}));return function(){return e.apply(this,arguments)}}(),h=e=>(function(){var r=u((function*(r,t){return b(r,e,t)}));return function(){return r.apply(this,arguments)}})(),v=()=>{var[e,r]=Object(n.useReducer)(d,{data:[],error:null,loading:!0});return{state:e,dispatch:r}},O=()=>{var{state:e,dispatch:r}=v();return{state:e,fetch:h(r)}},j=e=>{var{state:r,fetch:t}=O(),o=Object(n.useCallback)(t,[e]);return Object(n.useEffect)(()=>{o(e)},[o,e]),r};t.d(r,"getData",(function(){return l})),t.d(r,"getError",(function(){return f})),t.d(r,"reducer",(function(){return d})),t.d(r,"fetch",(function(){return p})),t.d(r,"callbackFetch",(function(){return y})),t.d(r,"dispatchFetch",(function(){return b})),t.d(r,"useDispatchFetch",(function(){return h})),t.d(r,"useFetchReducer",(function(){return v})),t.d(r,"useFetch",(function(){return O})),t.d(r,"useStatefulFetch",(function(){return j}))},3:function(e,r){e.exports=require("core-js/modules/es.array.iterator")},4:function(e,r){e.exports=require("core-js/modules/web.dom-collections.iterator")}})}));